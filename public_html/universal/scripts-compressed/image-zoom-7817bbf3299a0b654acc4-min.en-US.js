(self.webpackChunkextract_css=self.webpackChunkextract_css||[]).push([[89618],{828909:function(t,n,o){"use strict";o.r(n);var a=o(487871),c=o(196056),d=o.n(c);YUI.add("squarespace-image-zoom",function(i){i.namespace("Squarespace");var u=i.Squarespace.ImageZoom=i.Base.create("image-zoom",i.Base,[],{initializer:function(){!this._shouldInitialize()||!this.get("host")||this._initializeZoom()},destructor:function(){if(!!this._shouldInitialize()){var e=this.get("zoomedNode");e&&e.remove(!0),this.get("host").removeClass(u.CSS_PREFIX).removeClass(u.CSS_PREFIX+"--behavior-"+this.get("behavior")),this.get("dropzone").setStyle("position","").removeClass(u.CSS_PREFIX+"-dropzone"),this._zoomTriggerEvent&&this._zoomTriggerEvent.detach(),this._mouseMoveEvent&&this._mouseMoveEvent.detach(),this._mouseOutEvent&&this._mouseOutEvent.detach(),this._resizeEvent&&this._resizeEvent.detach(),this._zoomTriggerEvent=null,this._mouseMoveEvent=null,this._mouseOutEvent=null,this._resizeEvent=null}},_bindUI:function(){var e=this.get("host");this._zoomTriggerEvent=e.on(this.get("behavior"),this._toggleZoom,this),this._mouseMoveEvent=e.on("mousemove",this._trackMovement,this),this._mouseOutEvent=e.on("mouseout",this._zoomOut,this),this._resizeEvent=i.one(window).on("resize",this._refresh,this)},_shouldInitialize:function(){return!i.UA.mobile&&window.Modernizr.csstransforms},_initializeZoom:function(){var e=this.get("host"),r=e.one("img"),h=this.get("dropzone");e.addClass(u.CSS_PREFIX),e.addClass(u.CSS_PREFIX+"--behavior-"+this.get("behavior")),h.addClass(u.CSS_PREFIX+"-dropzone"),h.getStyle("position")==="static"&&h.setStyle("position","relative"),r.getAttribute("src")?(this._appendZoomedNode(),this._bindUI()):r.once("load",function(){this._appendZoomedNode(),this._bindUI()},this)},_appendZoomedNode:function(){var e=this.get("host").one("img"),r=e.getAttribute("data-src");if(!r)return null;var h=e.getAttribute("data-image-dimensions");h||(h=e.get("clientWidth")+"x"+e.get("clientHeight"));var s=e.getAttribute("data-image-focal-point");s||(s="0.5,0.5");var l=i.Node.create('<div class="'+u.CSS_PREFIX+'-duplicate"><img src="'+r+"?format="+this._getSquarespaceSizeForWidth()+'" data-image-dimensions="'+h+'" aria-hidden="true" data-image-focal-point="'+s+'"></div>');l.setStyle("transform","scale("+this.get("zoom")+")"),l.one("img").plug(i.Squarespace.Loader2,{load:!0,mode:"fill"}),this.set("zoomedNode",l),this.get("dropzone").append(l)},_refresh:function(){var e=this.get("host").one("img").getAttribute("data-src"),r=this.get("zoomedNode").one("img");r.setAttribute("src",e+"?format="+this._getSquarespaceSizeForWidth()),r.fire("refresh")},_toggleZoom:function(e){this.get("_isZoomedIn")?this._zoomOut():this._zoomIn(e),e.stopPropagation()},_zoomIn:function(e){this.get("host").addClass("is-zoomed"),this.set("_isZoomedIn",!0),this._trackMovement(e)},_zoomOut:function(){this.get("host").removeClass("is-zoomed"),this.set("_isZoomedIn",!1)},_trackMovement:function(e){if(!!this.get("_isZoomedIn")){var r=Math.max((e.pageX-this.get("host").getX())/this.get("host").get("clientWidth")*100,0),h=Math.max((e.pageY-this.get("host").getY())/this.get("host").get("clientHeight")*100,0);this.get("zoomedNode").setStyle("transformOrigin",r+"% "+h+"%")}},_getSquarespaceSizeForWidth:function(){var e=this.get("host").one("img").get("clientWidth");return a.zU(e*this.get("zoom"))}},{CSS_PREFIX:"sqs-image-zoom",ATTRS:{host:{value:null,validator:function(e){var r=i.one(e);return i.instanceOf(r,i.Node)&&r.one("img")&&r.all("img").size()<2},writeOnce:!0},dropzone:{valueFn:function(){return this.get("host")},validator:function(e){return i.instanceOf(i.one(e),i.Node)},writeOnce:!0},behavior:{value:"hover",validator:function(e){return!(e!=="hover"&&e!=="click")},writeOnce:!0},zoom:{value:1.5,validator:function(e){return typeof e!="number"||e<=1||e>5,!0},writeOnce:!0},_isZoomedIn:{value:!1}}})},"1.0",{requires:["base","event","node","squarespace-image-loader","yui-base"]})},472826:function(t,n,o){"use strict";var a=o(828909)},196056:function(t){t.exports={}},487871:function(t,n,o){"use strict";var a,c=o(875832);a={value:!0},a=e,a=u,n.m_=h,n.zU=r,a=i;var d=c(o(375798));function i(s,l,_){return s/l*_}function u(s,l,_){return l/s*_}function e(s){var l=s.getAttribute("data-image-dimensions");if(typeof l=="string"){var _=l.split("x").map(function(v){return Number(v)}),f=(0,d.default)(_,2),m=f[0],g=f[1];return{width:m,height:g}}return{width:null,height:null}}function r(s){return window.devicePixelRatio&&(s*=window.devicePixelRatio),s>1500?"2500w":s>1e3?"1500w":s>750?"1000w":s>500?"750w":s>300?"500w":s>100?"300w":"100w"}function h(s,l,_){return"/universal/images-v6/icons/icon-".concat(s,"-").concat(l,"-").concat(_,".png")}},922290:function(t){function n(o){if(Array.isArray(o))return o}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},243871:function(t){function n(o,a){var c=o==null?null:typeof Symbol!="undefined"&&o[Symbol.iterator]||o["@@iterator"];if(c!=null){var d=[],i=!0,u=!1,e,r;try{for(c=c.call(o);!(i=(e=c.next()).done)&&(d.push(e.value),!(a&&d.length===a));i=!0);}catch(h){u=!0,r=h}finally{try{!i&&c.return!=null&&c.return()}finally{if(u)throw r}}return d}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},485659:function(t){function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},375798:function(t,n,o){var a=o(922290),c=o(243871),d=o(274603),i=o(485659);function u(e,r){return a(e)||c(e,r)||d(e,r)||i()}t.exports=u,t.exports.__esModule=!0,t.exports.default=t.exports}},function(t){var n=function(a){return t(t.s=a)};t.O(0,[46001],function(){return n(472826)});var o=t.O()}]);
//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/image-zoom-f9e36c2aa23a221543538-min.en-US.js.map
